
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Overview Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="README_QUICK.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="README_OVERVIEW.html">
            
                <a href="README_OVERVIEW.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="README_QUICK.html">
            
                <a href="README_QUICK.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="README_FOR_RESOURCE_PROTECTION_PROFILE.html">
            
                <a href="README_FOR_RESOURCE_PROTECTION_PROFILE.html">
            
                    
                    Define Protected Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="README_CONFIG_SIGNER_POLICY.html">
            
                <a href="README_CONFIG_SIGNER_POLICY.html">
            
                    
                    Sign Policy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="README_RESOURCE_SIGNATURE.html">
            
                <a href="README_RESOURCE_SIGNATURE.html">
            
                    
                    How to Sign Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="README_DEPLOY_IE_LOCAL.html">
            
                <a href="README_DEPLOY_IE_LOCAL.html">
            
                    
                    Deploy IE on Minikube
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="README_DEVELOPMENT.html">
            
                <a href="README_DEVELOPMENT.html">
            
                    
                    Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="README_IE_OPERATOR_CR.html">
            
                <a href="README_IE_OPERATOR_CR.html">
            
                    
                    Integity Enforcer Custom Resource
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="README_SAMPLE_TEKTON_SIGNING_PIPELINE.html">
            
                <a href="README_SAMPLE_TEKTON_SIGNING_PIPELINE.html">
            
                    
                    Example: Tekton Signing Pipeline
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Overview</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="overview">Overview</h1>
<h2 id="goal">Goal</h2>
<p>&#x200B;
The goal of Integrity Enforcer is to provide assurance of the integrity of Kubernetes resources.</p>
<p>Integrity Enforcer is a tool for built-in preventive integrity control for regulated cloud workloads. It includes signature based configuration drift prevention based on <a href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/" target="_blank">Admission Webhook</a> on Kubernetes cluster.
&#x200B;
Resources on a Kubernetes cluster are defined in various form of artifacts such as YAML files, Helm charts, Operator, etc., but those artifacts may be altered maliciously or unintentionally before deploying them to cluster.
This could be an integrity issue. For example, some artifact may be modified to inject malicous scripts and configurations inside in stealthy manner, then admininstrator may be in risk of deploying it without knowing the falsification.</p>
<p>Integrity Enforcer (IE) provides signature-based assurance of integrity for Kubernetes resources at cluster side. IE works as an Admission Controller which handles all incoming Kubernetes admission requests, verifies if the requests attached a signature, and blocks any unauthorized requests according to the enforce policy before actually persisting in etcd. IE will helps cluster adminstrator to ensure</p>
<ul>
<li>Allow to deploy authorized application pakcages only</li>
<li>Allow to use signed deployment params only</li>
<li>Zero-drift in resource configuration unless allowed explicitly</li>
<li>Perform all integrity verification on cluster (admission controller, not in client side)</li>
<li>Handle variations in application packaging and deployment (Helm /Operator /YAML / OLM Channel) with no modification in app installer</li>
</ul>
<p>&#x200B;
<img src="ie-scenario.png" alt="Scenario"></p>
<h2 id="supported-platforms">Supported Platforms</h2>
<p>&#x200B;
Integrity Enforcer works as Kubernetes Admission Controller using Mutating Admission Webhook, and it can run on any Kubernetes cluster by design.
IE can be deployed with operator. We have verified the feasibility on the following platforms:
&#x200B;</p>
<ul>
<li><a href="https://www.openshift.com/" target="_blank">RedHat OpenShift 4.5</a></li>
<li><a href="https://www.openshift.com/products/openshift-ibm-cloud" target="_blank">RedHat OpenShift 4.3 on IBM Cloud (ROKS)</a></li>
<li><a href="https://www.ibm.com/cloud/container-service/" target="_blank">IBM Kuberenetes Service (IKS)</a> 1.17.12</li>
<li><a href="https://kubernetes.io/docs/setup/learning-environment/minikube/" target="_blank">Minikube v1.18.2</a>
&#x200B;</li>
</ul>
<h2 id="how-integrity-enforcer-works">How Integrity Enforcer works</h2>
<ul>
<li>Resources to be protected in each namespace can be defined in the custom resource called <code>ResourceProtectionProfile</code>. For example, the following snippet shows an example definition of protected resources in a namespace. This <code>ResourceProtectionProfile</code> resource includes the matching rule for specifiying resources to such as ConfigMap, Depoloyment, and Service in a namespace <code>secure-ns</code>, which is protected by IE, so any matched request to create/update those resources are verified with signature.  (see <a href="README_FOR_RESOURCE_PROTECTION_PROFILE.html">Define Protected Resources</a>)
&#x200B;<pre><code class="lang-yaml"><span class="hljs-attr">apiVersion:</span> research.ibm.com/v1alpha1
<span class="hljs-attr">kind:</span> ResourceProtectionProfile
<span class="hljs-attr">metadata:</span>
<span class="hljs-attr">  name:</span> sample-rpp
<span class="hljs-attr">spec:</span>
<span class="hljs-attr">  rules:</span>
<span class="hljs-attr">  - match:</span>
<span class="hljs-attr">    - namespace:</span> secure-ns
<span class="hljs-attr">      kind:</span> ConfigMap
<span class="hljs-attr">    - namespace:</span> secure-ns
<span class="hljs-attr">      kind:</span> Deployment
<span class="hljs-attr">    - namespace:</span> secure-ns
<span class="hljs-attr">      kind:</span> Service
</code></pre>
&#x200B;</li>
<li>Adminssion request to the protected resources is blocked at Mutating Admission Webhook, and the request is allowed only when the valid signature on the resource in the request is provided.</li>
<li>Signer can be defined for each namespace independently. Signer for cluster-scope resources can be also defined. (see <a href="README_CONFIG_SIGNER_POLICY.html">Sign Policy</a>.)</li>
<li>Signature is provided in the form of separate signature resource or annotation attached to the resource. (see <a href="README_RESOURCE_SIGNATURE.html">How to Sign Resources</a>)</li>
<li>Integrity Enforcer admission controller is installed in a dedicated namespace (e.g. <code>integrity-enforcer-ns</code> in this document). It can be installed by operator. (see <a href="README_IE_OPERATOR_CR.html">Integrity Enforcer Custom Resource</a> for detail install options.)
&#x200B;</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="README_QUICK.html" class="navigation navigation-next " aria-label="Next page: Quick Start">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Overview","level":"1.2","depth":1,"next":{"title":"Quick Start","level":"1.3","depth":1,"path":"README_QUICK.md","ref":"README_QUICK.md","articles":[]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","hide-published-with"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"hide-published-with":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"readme.md","glossary":"GLOSSARY.md","summary":"summary.md"},"variables":{},"gitbook":"*"},"file":{"path":"README_OVERVIEW.md","mtime":"2020-10-01T02:46:40.992Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-10-01T02:47:45.613Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

